<div class="container">
  <div class="row">
    <div>
      <h2>Lista de Productos</h2>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Producto</th>
            <th>Modelo</th>
            <th>Proveedores</th>
            <th>Precio</th>
            <th>Stock</th>
            <th class="text-center" colspan="2">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of listaproducto">
            <td>{{producto.producto}}</td>
            <td>{{producto.modelo}}</td>
            <td>{{producto.proveedor}}</td>
            <td>{{producto.precio | currency}}</td>
            <td>{{producto.stock}}</td>
            <td>
              <button type="button" *ngIf="!validarStock(producto)" class="btn btn-success me-2"
                (click)="agregarProducto(producto)">Agregar</button>
              <button type="button" *ngIf="validarStock(producto)" class="btn btn-success me-2"
                (click)="agregarProducto(producto)" disabled>Agregar</button>
              <app-detalleproducto [modalProducto]="producto.productoid" [producto]="producto"></app-detalleproducto>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div>
      <app-agregarproducto></app-agregarproducto>
    </div>



    <div class="col-md-6 ">
      <h2>Productos Agregados</h2>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Producto</th>
              <th>Modelo</th>
              <th>Proveedores</th>
              <th>Precio</th>
              <th>Cantidad</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let producto of listaCarrito">
              <td>{{producto.producto}}</td>
              <td>{{producto.modelo}}</td>
              <td>{{producto.proveedor}}</td>
              <td>{{producto.precio | currency}}</td>
              <td>{{producto.cantidad}}</td>
              <td>
                <!-- <button type="button" class="btn btn-danger me-2" (click)="eliminarProducto(producto)">Eliminar</button> -->
                <app-botonestabla [propertiesBtn]="porpiedadesBtnTB"
                  (eventoEliminar)="eliminarProducto(producto)"></app-botonestabla>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="col-md-4 mx-auto">
      <h2>Factura</h2>
      <div class="row">

        <label for="totalProductos">Total Productos:</label>
        <input type="text" value="{{totalProducto | currency}}" id="totalProductos" class="form-control" readonly>

        <label for="subtotalProductos">Subtotal:</label>
        <input type="text" value="{{subtotal | currency}}" id="subtotalProductos" class="form-control" readonly>

        <label for="ivaProductos">Iva 12%:</label>
        <input type="text" value="{{impuesto | currency}}" id="ivaProductos" class="form-control" readonly>

        <label for="totalPagoProductos">Total a pagar:</label>
        <input type="text" value="{{totalpago | currency}} " id="totalPagoProductos" class="form-control" readonly>

        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3 ">
          <button type="button" *ngIf="ValidBtPago()" class="btn btn-success me-md-2 w-50"> Pagar </button>
          <button type="button" *ngIf="!ValidBtPago()" class="btn btn-success me-md-2 w-50" disabled> Pagar </button>
        </div>

      </div>
    </div>



  </div>
</div>
